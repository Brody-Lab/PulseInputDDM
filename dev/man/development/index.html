<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developing the code · pulse input DDM</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><nav class="toc"><a href="../../"><img class="logo" src="../../assets/logo.png" alt="pulse input DDM logo"/></a><h1>pulse input DDM</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><span class="toctext">Home</span><ul><li><a class="toctext" href="../../">pulse input DDM</a></li></ul></li><li><span class="toctext">Basics</span><ul><li><a class="toctext" href="../getting_the_package/">Downloading the package</a></li><li><a class="toctext" href="../../generated/fit_choice_model/">-</a></li><li><a class="toctext" href="../../generated/recover_choice_model/">Fitting a choice model</a></li><li><a class="toctext" href="../../generated/recover_neural_model/">Fitting a neural model</a></li></ul></li><li><span class="toctext">Other helpful info</span><ul><li><a class="toctext" href="../vpn_is_annoying/">Efficient Remote SSH</a></li></ul></li><li><span class="toctext">Development</span><ul><li class="current"><a class="toctext" href>Developing the code</a><ul class="internal"><li><a class="toctext" href="#Adding-tests-1">Adding tests</a></li><li class="toplevel"><a class="toctext" href="#Developing-the-documentation-1">Developing the documentation</a></li><li><a class="toctext" href="#Adding-docstrings-1">Adding docstrings</a></li><li><a class="toctext" href="#Adding-doctests-1">Adding doctests</a></li><li><a class="toctext" href="#Adding-to-this-html-documentation-1">Adding to this html documentation</a></li></ul></li></ul></li><li><span class="toctext">Index</span><ul><li><a class="toctext" href="../../links/">Index</a></li></ul></li><li><span class="toctext">Functions</span><ul><li><a class="toctext" href="../../functions/">Functions</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Development</li><li><a href>Developing the code</a></li></ul><a class="edit-page" href="https://github.com/Brody-Lab/pulse_input_DDM/blob/master/docs/src/man/development.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Developing the code</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Developing-the-code-1" href="#Developing-the-code-1">Developing the code</a></h1><p>If you want to go beyond using the code to add some functionality and then share it with everyone, here&#39;s my suggested method for doing that. </p><p>Julia&#39;s package manager makes it easy to develop packages that are hosted as git repositories. Assuming that you added this package using julia&#39;s package manager (i.e. <code>] add [package-name]</code>) it&#39;s easy to create a <em>second</em> version of the package which you can experiment with and edit. To do this type <code>] dev https://github.com/Brody-Lab/pulse_input_DDM/</code>. This will create a second version of the package here <code>~/.julia/dev</code> which will be called from now on when you type <code>using pulse_input_DDM</code>. The directory located in <code>~/.julia/dev</code> is basically a normal git repository, but it kind of shares this special connection with julia now.</p><p><strong>Normally</strong> I try to make all changes to my code base in the <code>dev</code> branch of my repository. The general idea here is that all experimental code development should take place off the <code>master</code> branch and only be merged with the master branch once its continued stability and robustness is insured. </p><p>If you followed the above instructions, you likely only have the <code>master</code> branch in your <code>~/.julia/dev</code> directory. To &#39;switch over&#39; (<code>checkout</code> in the language of git) to the <code>dev</code> branch on you local machine and to &#39;match it up&#39; with the <code>dev</code> branch on github, in a shell (<strong>not</strong> in julia) you should navigate to <code>~/.julia/dev</code> and then type <code>git checkout --track origin/dev</code>. You can verify that you are now on the <code>dev</code> branch with <code>git branch</code> (a star should appear next to <code>dev</code>).</p><p>To jump back to the master branch, type <code>git checkout master</code>. Now all of the code if this git repo is switch over to whatever state it was in in the <code>master</code> bracnh. Now swithc over to the <code>dev</code> branch again with <code>git checkout dev</code>. Now all of the code reflects its status in the <code>dev</code> branch.</p><p>Now, the proper thing to do here is to make <em>another</em> branch, off of the <code>dev</code> branch to make some code changes. Once those changes are complete, we can attempt to <code>merge</code> them into the <code>dev</code> branch, and once the <code>dev</code> branch is super-duper stable, we can merge <em>that</em> with <code>master</code>. </p><p>To make a new branch, called <code>brians_dev</code> off of <code>dev</code> type <code>git checkout -b brians_dev dev</code> (make sure you are on branch <code>dev</code> with <code>git branch</code>). Now from here, you can make (<code>git add</code>) and commit (<code>git commit</code>) changes as you normally would, which will all be confined to this branch. </p><p>To push these new changes to a new remote branch in the repo, type <code>git push -u origin brians_dev</code>. The <code>-u</code> option will &#39;sync&#39; up this branch with the newly created <code>brians_dev</code> remote branch so that when you <code>push</code> and <code>pull</code> on this branch it does so from the correct remote branch.</p><p><a href="https://tlienart.github.io/pub/julia/dev-pkg.html">Here&#39;s a useful page of instructions about julia package development</a>.</p><p><a href="https://www.git-tower.com/learn/git/faq/track-remote-upstream-branch">Here&#39;s a useful page about git</a>.</p><h2><a class="nav-anchor" id="Adding-tests-1" href="#Adding-tests-1">Adding tests</a></h2><p>A useful way to ensure the continued stabilty of code is to include tests within a package. For julia packages, these are located in the file <code>tests\runtests.jl</code>. Basically, you include whatever function you care to test, the <code>@test</code> &#39;macro&#39; and the expected output in that file. Whenever code is pushed to the repository, it is build on Travis-CI, according to the specifcations on the <code>travis.yml</code> file also located in the repository. If the tests fails, it will be immedaitely reported on the repo landing page. See <code>runtests.jl</code> for examples and please consider adding tests when you add functionality.</p><h1><a class="nav-anchor" id="Developing-the-documentation-1" href="#Developing-the-documentation-1">Developing the documentation</a></h1><p>Another key step in maintaining a clear and robust code repository is documentation. I&#39;ve established a few conventions that, if maintained, will allow others to use this codebase relatively easily. </p><h2><a class="nav-anchor" id="Adding-docstrings-1" href="#Adding-docstrings-1">Adding docstrings</a></h2><p>A <a href="https://docs.julialang.org/en/v1/manual/documentation/index.html">docstring</a> is a bit of code directly above a function, delineated by <code>&quot;&quot;&quot;...&quot;&quot;&quot;</code> that explains the details of how the function works. If properly formatted, they can then be access in a julia repl by typing <code>?</code>. </p><h2><a class="nav-anchor" id="Adding-doctests-1" href="#Adding-doctests-1">Adding doctests</a></h2><p>A doctest can be added to a docstring to add additional explanation and to test whether a written function works as intended. See julia&#39;s <a href="https://docs.julialang.org/en/v1/manual/documentation/index.html">documentation</a> page for an explanation of doctests. </p><h2><a class="nav-anchor" id="Adding-to-this-html-documentation-1" href="#Adding-to-this-html-documentation-1">Adding to this html documentation</a></h2><p>I developed this documentation using <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a>. This is a julia package that, once correctly instantiated, will automatically build a html webpage (this very webpage you&#39;re reading!) based on markdown files located in a specified directory in a git repo (usually <code>docs</code>) using Travis-CI whenever there is a push to that repo, and host that html webpage on the github repo on a <code>gh-pages</code> branch. </p><p>To add a new page, you need to add a markdown files (<code>example.md</code>) in the <code>docs/src/man</code> directory. Once you have you need to include it and its location in the <code>make.jl</code> file located in <code>docs</code>, so that it appears in the index of the html page.</p><footer><hr/><a class="previous" href="../vpn_is_annoying/"><span class="direction">Previous</span><span class="title">Efficient Remote SSH</span></a><a class="next" href="../../links/"><span class="direction">Next</span><span class="title">Index</span></a></footer></article></body></html>
