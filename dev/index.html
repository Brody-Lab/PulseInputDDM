<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · pulse input DDM</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><link href="assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="pulse input DDM logo"/></a><h1>pulse input DDM</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"><li><a class="toctext" href="#Getting-Started-1">Getting Started</a></li></ul></li><li><span class="toctext">Basics</span><ul><li><a class="toctext" href="man/choice_observation_model/">Fitting a model to choices</a></li><li><a class="toctext" href="man/neural_observation_model/">Fitting a model to neural activity</a></li><li><a class="toctext" href="man/using_spock/">Using spock</a></li><li><a class="toctext" href="man/aggregating_sessions/">Aggregating data from separate recording sessions</a></li></ul></li><li><span class="toctext">Getting up and running on scotty or spock</span><ul><li><a class="toctext" href="man/vpn_is_annoying/">Efficient Remote SSH</a></li></ul></li><li><a class="toctext" href="links/">Index</a></li><li><a class="toctext" href="functions/">Functions</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul><a class="edit-page" href="https://github.com/PrincetonUniversity/pulse_input_DDM/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="pulse-input-DDM-1" href="#pulse-input-DDM-1">pulse input DDM</a></h1><p>This is a package for inferring the parameters of drift diffusion models (DDMs) using gradient descent from spiking neural activity or choice data collected when a subject is performing a pulsed input evidence accumlation task.</p><h2><a class="nav-anchor" id="Getting-Started-1" href="#Getting-Started-1">Getting Started</a></h2><p>If you want to fit the model to some data, but want to interact with Julia, I recommend using a Jupyter notebook and scotty. This is somewhat involved to set up, but worth the time. Here are the steps necessary to do this.</p><h3><a class="nav-anchor" id="Fitting-the-model-interactively-on-scotty-1" href="#Fitting-the-model-interactively-on-scotty-1">Fitting the model interactively on scotty</a></h3><p>First you need to install Julia in your local scotty user directory via anaconda. This will be a whole new installation of Julia (not the installation you might normally use on scotty if you typed <code>module load julia</code>) which means if you&#39;ve used another installation of Julia on scotty before, all of the packages you might have added won&#39;t be there. The reason for using a new anaconda installation of Julia is that </p><h4><a class="nav-anchor" id="Installing-Julia-via-anaconda-1" href="#Installing-Julia-via-anaconda-1">Installing Julia via anaconda</a></h4><p>Make a ssh connection with scotty, <code>ssh [username]@scotty.princeton.edu</code>. (If you haven&#39;t configured your local machine so that you can avoid using the VPN to access scotty, first do that. Instructions for doing so are provided on the <a href="man/vpn_is_annoying/#Efficient-Remote-SSH-1">Efficient Remote SSH</a> page). Next load an anaconda module (for example, 5.1.0), <code>module load anacondapy/5.1.0</code>. Presently, you are using the &quot;base&quot; anaconda environment, for which PNI users do not have write privileges. Thus, you need to create a new environment; &quot;Julia&quot; seems like a sensible name, <code>conda create --name julia</code>. Now that you&#39;ve created this new environment, you need to use it, <code>source activate julia</code>. Next, you need to install Julia via <a href="https://anaconda.org/conda-forge/julia">anaconda</a>, <code>conda install -c conda-forge julia</code>. This means that you are using a whole new version of Julia (not the same one as when you execute <code>module load julia</code>), so you will need to re-install lots of stuff, most specifically, the IJulia package.</p><h4><a class="nav-anchor" id="Installing-the-IJulia-package-1" href="#Installing-the-IJulia-package-1">Installing the IJulia package</a></h4><p>Once, Julia is installed, you can launch it by typing <code>julia</code>. From here, you need to add the IJulia package so you can use Julia in a notebook. This is done in the normal way,</p><pre><code class="language-using">Pkg.add(&quot;IJulia&quot;)</code></pre><p>You might now want to add any packages you use, again in the normal way. You&#39;re done (with this part)! You can exit Julia.</p><h4><a class="nav-anchor" id="Opening-a-notebook-on-scotty-and-creating-a-SSH-tunnel-1" href="#Opening-a-notebook-on-scotty-and-creating-a-SSH-tunnel-1">Opening a notebook on scotty and creating a SSH tunnel</a></h4><p>Now, that Julia is all set up, you need to launch a Jupyter notebook on scotty (which is possible because you&#39;re already using the anaconda module, which contains jupyter). In your ssh connection to scotty, type <code>jupyter notebook</code>. Once this has executed, it will pick a port on which to run and provide you a url so that you can launch the notebook in your local browser. But before you can do that, you need to create a &quot;ssh tunnel&quot; from the open port on scotty and a port on your local machine. <em>In a separate terminal window</em>, create a new ssh connection to scotty, but one that will map the ports, <code>ssh -L &lt;port&gt;:localhost:&lt;port&gt; [username]@scotty.princeton.edu</code> where <code>&lt;port&gt;</code> is the port assigned by scotty, and the second <code>&lt;port&gt;</code> is one on your local machine (you can pick the same one that scotty did, if you don&#39;t happen to be already using it).</p><p>Now, copy the url that was created when you launched the jupyter notebook into your local browser, and voila!</p><h4><a class="nav-anchor" id="How-do-I-do-this-again?-1" href="#How-do-I-do-this-again?-1">How do I do this again?</a></h4><p>Next time, you only need to:</p><ul><li>Use the anaconda module: <code>module load anacondapy/5.1.0</code>.</li><li>Activate the julia environment: <code>source activate julia</code>.</li><li>Launch a jupyter notebook: <code>jupyter notebook</code>.</li><li>Create the ssh tunnel: <code>ssh -L &lt;port&gt;:localhost:&lt;port&gt; [username]@scotty.princeton.edu</code></li></ul><p>These instructions can also be found <a href="https://brodylabwiki.princeton.edu/wiki/index.php/Internal:IJulia_notebook_on_scotty">here</a>.</p><h3><a class="nav-anchor" id="Getting-the-necessary-Julia-packages-from-GitHub-1" href="#Getting-the-necessary-Julia-packages-from-GitHub-1">Getting the necessary Julia packages from GitHub</a></h3><p>Now, you need to add the package locally, from the github repository, by typing the following commands into a Julia REPL:</p><pre><code class="language-none">using Pkg
Pkg.add(PackageSpec(url=&quot;https://github.com/PrincetonUniversity/pulse_input_DDM/&quot;))</code></pre><p>You will be prompted for your github username and password. This will require that you are part of the Princeton University github organization and the Brody Lab team. If you are not, fill out <a href="https://forms.rc.princeton.edu/github">this form</a> to get added and make sure your mention that you want to be added to the Brody Lab team.</p><p>Then you need to add this package by typing <code>Pkg.clone(https://github.com/PrincetonUniversity/pulse_input_DDM/</code>.</p><h3><a class="nav-anchor" id="Basics-1" href="#Basics-1">Basics</a></h3><ul><li><a href="man/using_spock/#Using-spock-1">Using spock</a></li><ul><li><a href="man/using_spock/#Key-functions-1">Key functions</a></li></ul><li><a href="man/aggregating_sessions/#Aggregating-data-from-separate-recording-sessions-1">Aggregating data from separate recording sessions</a></li><ul><li><a href="man/aggregating_sessions/#Key-functions-1">Key functions</a></li></ul><li><a href="man/choice_observation_model/#Fitting-a-model-to-choices-1">Fitting a model to choices</a></li><ul><li><a href="man/choice_observation_model/#Key-functions-1">Key functions</a></li></ul><li><a href="man/neural_observation_model/#Fitting-a-model-to-neural-activity-1">Fitting a model to neural activity</a></li><ul><li><a href="man/neural_observation_model/#Some-important-functions-1">Some important functions</a></li></ul></ul><footer><hr/><a class="next" href="man/choice_observation_model/"><span class="direction">Next</span><span class="title">Fitting a model to choices</span></a></footer></article></body></html>
